<template>
    <article class="slds-card">
        <div class="slds-page-header card_header">
            <header class="slds-media slds-media_center">
              <div class="slds-media__figure">
                <lightning-icon icon-name="standard:case" size="small"></lightning-icon>
              </div>
              <div class="slds-media__body">
                <h2 class="slds-card__header-title">My Cases</h2>
              </div>
              <div class="slds-no-flex">
                <lightning-button-icon icon-name="utility:refresh" onclick={refresh}></lightning-button-icon>
              </div>
            </header>
        </div>
        <div class="slds-m-around_medium">
            <template for:each={cases} for:item="rec">
                <div key={rec.index} class="slds-p-vertical_small">
                    <lightning-tile label={rec.Subject.value} href="#" type="media">
                        <lightning-icon slot="media" icon-name="action:priority" size="x-small" class={rec.Priority.value}></lightning-icon>
                        <ul class="slds-list_horizontal slds-has-dividers_right">
                            <li class="slds-item">{rec.Status.value}</li>
                            <li class="slds-item">
                                <lightning-formatted-date-time value={rec.CreatedDate.value} 
                                  day="numeric" month="numeric" year="numeric" hour="numeric" minute="2-digit"
                                ></lightning-formatted-date-time>
                            </li>
                        </ul>
                    </lightning-tile>
                </div>
            </template>
        </div>
        <lightning-spinner lwc:if={isLoading} alternative-text="Loading" size="small" variant="brand"></lightning-spinner>
    </article>
</template>